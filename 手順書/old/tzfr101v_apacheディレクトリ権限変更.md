# ディレクトリ権限変更手順書_tzfr101v

-----------------------------------------------------------------------------------
## 作業要件
-----------------------------------------------------------------------------------
|#|項目|内容|
|:--|:--|:--|
|1|対象システム|提出課題Net|
|2|対象ホスト|tzfr101v|
|3|作業予定日|2023/00/00|

-----------------------------------------------------------------------------------
## 1. 事前作業
-----------------------------------------------------------------------------------
1. 作業開始連絡  
    関係者に作業開始の連絡を行う

2. Tera Termにログインする

3. root権限へ昇格する
    ```
    $ su -
    ```

4. ログイン先のサーバ名を確認する
   ```
   # uname -n
   ```

5. root権限であることを確認する
   ```
   # id
   ```

-----------------------------------------------------------------------------------
## 2. 権限変更①
-----------------------------------------------------------------------------------
1. 作業対象ディレクトリがあることを確認する
   ```
   # ls -ld /nas/share/web/s01/apache/fnssso
   ```

2. 対象ディレクトリの所有者・所有グループを設定する
   ```
   # chown -R root:apl /nas/share/web/s01/apache/fnssso
   ```

3. 対象ディレクトリの権限を変更する
   ```
   # find /nas/share/web/s01/apache/fnssso -type d -exec chmod 775 {}
   ```

4. ディレクトリが想定通りの設定になっていることを確認する
   ```
   # ls -ld
   ```

5. 対象ディレクトリ内のファイル権限を変更する
   ```
   # find /nas/share/web/s01/apache/fnssso -type f -exec chmod 664 {}
   ```

6. ファイルが想定通りの設定になっていることを確認する
   ```
   # ls -l
   ```

-----------------------------------------------------------------------------------
## 3. 権限変更②
-----------------------------------------------------------------------------------
1. 作業対象ディレクトリがあることを確認する
   ```
   # ls -ld /nas/share/web/s04/apache/fnssso
   ```

2. 対象ディレクトリの所有者・所有グループを設定する
   ```
   # chown -R root:apl /nas/share/web/s04/apache/fnssso
   ```

3. 対象ディレクトリの権限を変更する
   ```
   # find /nas/share/web/s04/apache/fnssso -type d -exec chmod 775 {}
   ```

4. ディレクトリが想定通りの設定になっていることを確認する
   ```
   # ls -ld
   ```

5. 対象ディレクトリ内のファイル権限を変更する
   ```
   # find /nas/share/web/s04/apache/fnssso -type f -exec chmod 664 {}
   ```

6. ファイルが想定通りの設定になっていることを確認する
   ```
   # ls -l
   ```

-----------------------------------------------------------------------------------
## 4. 事後作業
-----------------------------------------------------------------------------------
1. Tera Termからログアウトする
   ```
   # exit
   $ exit
   ```

2. 作業完了連絡
    依頼者に変更完了の連絡を行う

3. 作業エビデンス格納
    作業エビデンスをCAB資料格納先に保存する